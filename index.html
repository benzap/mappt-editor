<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link type="text/css" rel="stylesheet" href="ui.notify.css" />    
    <link type="text/css" rel="stylesheet" href="index.css" />
    <title>Editor Start Page</title>
  </head>
  <body>
    <div class="sidebar">
      <h1>Table of Contents</h1>
      <ul>
	<li><a href="#index-introduction">Introduction</a></li>
	<li><a href="#index-description">Description</a></li>
	<li><a href="#index-collaboration">The Collaboration</a></li>
	<li><a href="#index-gettingstarted">Getting Started</a></li>
	<li><a href="#index-howtoedit">How to Edit Maps</a></li>
	<li><a href="#index-dealingwithnodes">Dealing with Node Types</a></li>
	<li><a href="#index-howtoexport">How to Export your Work</a></li>
	<li><a href="#index-keyboardshortcuts">Some Useful Keyboard Shortcuts</a></li>
      </ul>
      <h2 class="boldlink"><a href="editor.html">> Go to the Editor <</a></h2>


    </div><!-- sidebar -->
    <div class="main-container">
      <div class="header">
	<h1>Mappt Editor</h1>
      </div>
      <div class="container">
	<div class="content">
	  <h1 id="index-introduction">Introduction</h1>
	  <p>
	    Mappt Editor is a tool I wrote to help develop map routes
	    over the SVG maps that we have created. The tool is still
	    in development. Expect bugs and constant frustration.
	  </p>
	  <h1 id="index-description">Description</h1>
	</div>
	<div class="box-main">
	  <div class="box-float">
	    <h2>What it <i>can do</i></h2>
	    <p>The tool is used to plot nodes on a map. The nodes are
	      then given different characteristics based on
	      information provided by the user. For example, a node
	      placed on a door would be given the characteristics of
	      type <b>DOOR</b>, and then might include a description on
	      where the door leads.
	    </p>
	    <p>A few things that this editor is capable of:</p>
	    <ul>
	      <li>Add and remove nodes from the map</li>
	      <li>Add and remove links from the map</li>
	      <li>Zoom and Pan the map</li>
	      <li>Export the resulting map layout to the console</li>
	      <li>Import JSON for a given layout</li>
	      <li>Locally save a map node layout</li>
	      <li>Locally load a map node layout, with a remote fallback</li>
	      <li>Edit node descriptions</li>
	      <li>Edit groups of node descriptions</li>
	    </ul>

	  </div>
	  <div class="box-float">
	    <h2>What it <i>can't do</i></h2>
	    <p>
	      A few things that this editor is not capable of yet:
	    </p>
	    <ul>
	      <li>This editor cannot properly save any of the map
		layouts <b>remotely</b>, but I have worked out a
		workaround described in <a href="">The
		  Collaboration</a>.</li>
	      <li>
		This editor is not meant for commercial use as of yet,
		and possibly includes a few bugs. If you find a bug,
		please let me know.
	      </li>
	      <li>
		This editor is not <i>Full-featured</i>, you're going
		to get frustrated with the lack of some basic
		features, and I understand. However, I want feedback
		on what you would consider a good feature, and in
		time, I might even be able to implement it.
	      </li>
	    </ul>
	  </div>
	</div>
	<div class="content">
	  <h1 id="index-collaboration">The Collaboration</h1>
	  <p>
	    Since our map making collaboration, i've been trying to
	    think of easier ways for us to stay connected, and work on
	    things together in a more efficient manner.
	  </p>
	  <p>
	    One of the ways I was thinking of making our process
	    faster, is to share one single network drive, that we can
	    all access. This drive will appear on your computer, and
	    will allow you to add, remove and edit files as though it were
	    on your computer.
	  </p>
	  <p>The basic process that we will carry out for this collaboration:</p>
	  <ul>
	    <li>Get assigned a map, and edit it for any imperfections.</li>
	    <li>While within the editor, choose the map layout you
	    were assigned, and perform node layouts</li>
	    <li>When a portion of designated amount of work has been
	    finished, export the resulting JSON and copy the results
	    to a file named <i>mapLayoutName</i>.svg.json and place it
	    within remote folder under ./floorplans_data/</li>
	    <li>Repeat</li>
	  </ul>
	  <p>
	    The full explanation on how to setup the remote drive can be
	    found in the next section <a href="">Getting Started</a>
	  </p>
	</div>
	<div class="content">
	  <h1 id="index-gettingstarted">Getting Started</h1>
	  <p>Before we can start editting maps, we need to get
	  everyone to install the remote drive service.

	    The basic setup instructions are as follows:</p>

	  <ul>
	    <li>Download and
	    install <a href="https://code.google.com/p/win-sshfs/downloads/list">win-sshfs</a></li>
	    <li>Once the installation is complete, the win-sshfs
	    manager should be in your taskbar. Open win-sshfs</li>
	    <li><b>Add</b> a new drive</li>
	    <li><i>Drive Name</i> should be <b>Mappt-Remote-Folder</b>, or whatever you prefer</li>
	    <li>For <i>Host</i>, enter the same ip address as this webpage <i>(192.168.1.*)</i></li>
	    <li>Under the option <i>directory</i>,
	    enter <i>./Projects/mappt-editor/</i></li>
	    <li>Under <i>Username</i>, enter <i>benzap</i>.
	    <li>the <i>Password</i> field will require my intervention.</li>
 	    <li>Click on <b>Save</b> to save the changes we just made</li>
	    <li>Then to connect the drive, click <b>Mount</b></li>
	    <li>Check your network drives folder under <b>My
	    Computer</b> and ensure that the process was
	    successful</li>
	  </ul>
	</div>
	<div class="content">
	  <h1 id="index-howtoedit">How to Edit Maps</h1>
	  <i>Not Completed</i>
	  <h2>Changing Maps</h2>
	  <p>To change to a given map, click on a desired map listed
	  within the <b>Map Selector</b> list.</p> If you had been
	  previously working on another map, it is desirable to save
	  the map before proceeding to view another map.

	  <h2>Panning and Zooming</h2>
	  <p>The map can be panned by pushing in the mouse scroll
	    wheel, and dragging the mouse.

	    An alternative to using the mouse, are the <b>I,J,K,L</b>
	    keys for moving the map.</p>

	  <h2>Adding Nodes</h2> 
	  <p>
	    Nodes can be added to the map by setting the mode
	    to <b>Add Node</b> at the top of the screen and clicking
	    anywhere on the map where you would like to place a
	    node.
	  </p>
	  
	  <h2>Removing Nodes</h2>
	  <p>
	    To remove a node from the map, must change the mode
	    to <b>Remove Node</b> and click on the corresponding node
	    that you would like to remove. Upon removing the node, all
	    existing links that relate to that node will be lost.
	  </p>
	  <h2>Adding Links</h2>
	  <p>
	    To perform a link between two nodes, you must change the
	    mode to <b>Add Link</b> and click on the two corresponding
	    nodes to form the link.
	  </p>
	  <h2>Removing Links</h2>
	  <p>To remove links between two nodes, change the mode
	  to <b>Remove Link</b> and click on the two nodes that form a
	  link. The resulting link between those two nodes will then
	  be removed.
	  </p>
	  <h2>Editing Nodes</h2>
	  <h3>Single Node Editting</h3>
	  <p>Editing nodes is done within the <b>Select Node</b> mode,
	    and requires you to click on single nodes. Upon clicking on
	    a single node, the data contained for that particular node
	    will be displayed within the <i>Properties</i> area on the
	    right sidebar. From there, the corresponding attribute that
	    you would like to change can be edited. When a change has
	    been made to the appropriate attributes, simply
	    press <b>ENTER</b> and the attribute will be saved for the
	    given node.</p>
	  
	  <h3>Multiple Node Editing</h3>
	  <p>Multiple Node editing requires a bit more know how. In
	    order to edit the same property for several nodes, you must
	    be within the <b>Select Node</b> mode. While in this mode,
	    you also have the ability to drag a selection box over
	    several nodes. The nodes that are affected will change
	    color.</p>
	  
	  <p>At this point, you need to open up the Chrome Developer
	    Console, (Ctrl+Shift+j) and use the console
	    command <i>mappt.setAttr(name, value)</i> where name
	    refers to the name of the attribute, and value refers to
	    the value you would like to give it.</p>
	  
	  <p>ex. mappt.setAttr("type", "WALK")</p>
	  <h2>Moving Nodes</h2>
	  <p>Moving nodes requires you to change to the mode <b>Move
	      Node</b>, and click and dragging a node will move it.
	    
	  <h2>Checking Map Routes</h2>
	  <p>
	    You can check map routes by switching to the mode <b>Route
	      Node</b> and clicking between the two nodes that you would
	    like to the check to route for. The route shown should be
	    the fastest route based on euclidean distance.
	  </p>
	  <h2>Saving The Map Locally</h2>
	  <p>Saving the map locally should be a useful feature, and
	    can be done by clicking on the button in the top left corner
	    labelled <b>Save Map Locally</b>
	  </p>
	  <p>
	    Note: that these changes are only stored on your system
	    using your current browser. If you wish to make the work
	    you've done available between you and your coworkers, you
	    must export your work to the remote drive. This is
	    explained further in the
	    section <a href="#index-howtoexport">How to Export your
	    work</a>
	  </p>
	  <h2>Clearing local work</h2>
	  <p>Sometimes in order to view the new remote changes that
	    someone has made, you must clear your local storage. This is
	    due to the loading of local storage taking precedence over
	    the remote changes. </p>
	  <p>To fix this problem, you can choose to clear your local
	    storage to force the remote changes to be loaded onto your
	    system. It is recommended you export any relevant changes
	    that you've made before you perform this action. For further
	    details on how to export your work, please go to the
	    section <a href="#index-howtoexport">How to Export your
	      work</a>.
	  </p>
	  <p>
	    To clear your local storage, you can click on the assigned
	    button in the top right corner labeled <b>Clear Local
	    Storage</b>.
	  </p>
	</div>
	<div class="content">
	  <h1 id="index-dealingwithnodes">Dealing with Nodes</h1>
	  <i>Not Completed</i>
	  <h2>Introduction</h2> 
	  <p>After all of the nodes have been placed down with all of
	    the correct links, a great deal of time will be spent on
	    describing links. The type of information that should be
	    provided is based on the type of node it is.
	  </p>
	  <p>
	    For example, a <b>door</b> node might not require any relevant
	    information (not always true), but an <b>area</b> node might need such attributes
	    like:
	    
	    <ul>
	      <li>The room name</li>
	      <li>A tag for relevant groups (cafeteria, classroom)</li>
	      <li>A descriptor, which has a list of tag-values (department=human resources, building=shuniah)
	    </ul>
	    
	    Some of the information for the nodes might not be known,
	    which means we might even have to go on a field trip to
	    work out how to describe certain nodes on the
	    confederation college campus.
	  </p>
	  <h2>Determining what type a node should be</h2>
	  <p>
	    There are several types of nodes, each of which should be
	    used in specific situations. Some of them will be trickier
	    than others to setup, and some of them might even be
	    disputed over what node type it should be. This will all
	    be worked out in greater detail once we get our baseline
	    maps developed. For now, we're only going to be focusing
	    our attention on <b>HALL</b> nodes, <b>WALK</b>
	    nodes, <b>AREA</b> nodes and <b>DOOR</b> nodes. I will
	    provide full details on all node types, but the
	    information provided on each node type should be taken
	    lightly, because they are subject to change.
	  </p>
	  
	  <p>The type of nodes that have currently been thought up are:</p>

	  <ul>
	    <li>Hall Nodes</li>
	    <li>Walk Nodes</li>
	    <li>Door Nodes</li>
	    <li>Area Nodes</li>
	    <li>Elevation Nodes</li>
	    <li>Entrance Nodes</li>
	    <li>Start Nodes</li>
	  </ul>

	  <p>Further details on each type of node will be discussed at this point.</p>
	  <h3>Hall Node</h3>
	  <p>
	    Hall nodes should be used in hallways. An example would be
	    any long and straight corridors containing several door
	    nodes.
	  </p>
	  <h3>Walk Node</h3>
	  <p>
	    Walk nodes are special nodes that represent areas that you
	    wouldn't normally traverse, but still provide access to
	    common areas within a building, or outside. An example
	    would be a room <b>within</b> a room. The person will
	    still require a means to get to this room, so a walk node
	    would be used as a means of traversing to that room.
	  </p>
	  <p>
	    Walk nodes can also be used outside to provide alternative
	    routes between building entrances.
	  </p>
	  <h3>Door Node</h3>
	  <p>
	    Used to represent doors of a room. Doors can be linked
	    with <i>Area Nodes</i> to provide a relation on what area
	    the door enters. Full details on how this should be done
	    will not be provided at this time.
	  </p>
	  <h3>Area Node</h3>
	  <p>
	    Area nodes are a more advanced topic, but are simply nodes
	    placed in the center of a room. They shouldn't normally be
	    traversed, but still hold a link to any doors or entrances
	    that allow access to that area.
	  </p>
	  <h3>Elevation Node</h3>
	  <p>
	    Elevation nodes are used to represent elevators, stairs,
	    or any other change in elevation performed between two
	    maps.
	  </p>
	  <h3>Entrance Node</h3>
	  <p>
	    Used to represent the entrance ways of buildings seen from
	    the aerial view. These particular nodes might include
	    extra information on what building they end up entering.
	  </p>
	  <h3>Start Node</h3>
	  <p>
	    Start nodes are areas of the map that a typical person
	    might start from. Some examples would be a parking lot, an
	    entrance into the college from some side trail, or typical
	    main entrances.
	  </p>

	  

	</div>
	<div class="content">
	  <h1 id="index-howtoexport">How to Export your Work</h1>
	  <h2>Introduction</h2>
	  <p>
	    Throughout the map layout process, it is recommended that
	    you export your work to the main server. By exporting your
	    work and copying it to the main server, it allows others
	    to see your progress and ensures that everyone is on the
	    same page.
	  </p>
	  <h2>Working with the console</h2>
	  <p>Before you can export your work, you must become familiar
	  with the console. Within the Google Chrome browser, we are
	  given a developer console, which can be used to debug, run
	  javascript functions, and log information about our
	  application. The part we are interested in is <b>Logging Information.</b>
	  </p>
	  <p>
	    To access the developer console, either
	    press <b>Ctrl+Shift+j</b> or click on the settings context
	    in the top right corner and navigate
	    to <b>Tools->Javascript Console</b>. You should be
	    presented with a console, and might already include some
	    logging information.
	  </p>
	  <p>
	    Try playing around with the console a bit, there is a lot
	    at your disposal. Try typing <b>mappt.translatePaper(100,
	    100, 1.0)</b> and observe the changes made to your
	    editor. The translate command is actually what is used for
	    panning and zooming with the mouse and keyboard keys.
	  </p>
	  <h2>The mappt.exportJSON() command</h2>
	  <p>
	    Just like everything else, the export command could also
	    be accessed through the console. Thankfully, there is a
	    button and shortcut key (<b>e</b>) to call this function
	    easily, and display the information within the developer
	    console.
	  </p>
	  <p>
	    The information that is spit out within the developer
	    console is a representation of our points on the map
	    layout, that is presented in a more human readable and
	    portable data structure called <b>JSON</b>.
	  </p>

	  <h2>Step-By-Step</h2>
	  <p>
	    Before we can export, make sure you have followed
	    the <a href="#index-gettingstarted">Getting Started</a> part
	    of this page.
	  </p>

	  <ol>
	    <li>
	      While within the editor, click on the button <b>Export
		JSON</b> or press the keyboard shortcut <b>e</b>
	    </li>
	    <li>
	      Open the Javascript Developer Console by
	      pressing <b>Ctrl+Shift+j</b> or navigating
	      to <b>Tools->Javascript Console</b>
	    </li>
	    <li>
	      Copy the data structure from the start of the left curly
	      bracket, all the way to the last right curly
	      bracket. <b>{ .... }</b>
	    </li>
	    <li>
	      Open notepad, and paste the structure. Save the file
	      as <i>filename.svg.json</i>, where <b>filename</b>
	      refers to the exact name of the map you were working
	      on. <b>NOTE:</b> Make sure that no .txt extension was
	      included when you saved, this can be fixed by saving
	      as <i>All Files (*)</i>
	    </li>
	    <li>
	      Open up the remote drive that we previously mounted with
	      win-ssh. This can be accessed through <b>My Computer</b>
	      much like when you try and access Drive C:
	    </li>
	    <li>
	      Copy or simply save the file within ./floorPlans_data/
	    </li>
	    <li>
	      This file should now be accessible remotely by everyone
	      else.
	    </li>
	  </ol>

	</div>
	<div class="content">
	  <h1 id="index-keyboardshortcuts">Some Useful Keyboard Shortcuts</h1>
	  <i>Not Completed</i>
	  <table>
	    <tr>
	      <th>Command</th>
	      <th>Shortcut Keys</th>
	    </tr>
	    <tr>
	      <td>Add Node</td>
	      <td>1</td>
	    </tr>
	    <tr>
	      <td>Remove Node</td>
	      <td>2</td>
	    </tr>
	    <tr>
	      <td>Add Link</td>
	      <td>3</td>
	    </tr>
	    <tr>
	      <td>Remove Link</td>
	      <td>4</td>
	    </tr>
	    <tr>
	      <td>Select Node</td>
	      <td>5</td>
	    </tr>
	    <tr>
	      <td>Move Node</td>
	      <td>6</td>
	    </tr>
	    <tr>
	      <td>Route Node</td>
	      <td>7</td>
	    </tr>
	    <tr>
	      <td>Save Map Locally</td>
	      <td>s</td>
	    </tr>
	    <tr>
	      <td>Export JSON</td>
	      <td>e</td>
	    </tr>
	    <tr>
	      <td>Fill Map to Screen</td>
	      <td>f</td>
	    </tr>
	    <tr>
	      <td>Zoom In / Zoom Out</td>
	      <td>u / o</td>
	    </tr>
	    <tr>
	      <td>Pan Left / Right / Up / Down</td>
	      <td>j / l / i / k</td>
	    </tr>
	  </table>
	</div>
	</div><!-- content -->
      </div><!-- main-container -->
    </div><!-- container -->
  </body>
</html>
